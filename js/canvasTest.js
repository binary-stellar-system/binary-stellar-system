(()=>{"use strict";function e(e,t,n){return n instanceof e||(typeof n).toLowerCase()===t}function t(t){return e(String,"string",t)}function n(t){return e(Object,"object",t)}function o(e){let t=e.nodeName;return t=t||"","textarea"===t.toLowerCase()}function a(e){let t=typeof e,n=e.nodeName;return n=n||"","input"===n.toLowerCase()||"input"===t.toLowerCase()&&void 0!==t.type}const i=/^#(?:([\w-]+)|(\w+)|\.([\w-]+))$/;function r(e,o){let a,r={},l=e;r.length=0,r.objectName="selector";const s=o||document;if(!t(l)&&n(l)&&l.hasOwnProperty("objectName")&&"selector"===l.objectName)return l;e instanceof HTMLElement&&(e.id?l="#"+e.id:(l=e.nodeName.toLowerCase(),e.className.length>0&&(l+="."+e.className.split(" ").join(" .")))),i.test(l)?(a=s.querySelector(l),a=a?[a]:[]):(a=s.querySelectorAll(l),a=a&&a.length>0?a:[]),r.length=a.length,r.get=function(e){return a[e]},r.toArray=function(){return Array.from(a)},r.each=function(e){r.toArray().forEach(e)};for(let e=0;e<r.length;e++)r[e]=a[e];return r}const l=function(e,t){-1===e.className.indexOf(t)&&(e.className+=" "+t)},s=function(e,n,o){let a,i=document.body;if(n&&t(n)?i=document.getElementById(n):n&&(i=n),!e)return i;if(o&&o.id&&(a=document.getElementById(o.id)),a||(a=document.createElement(e)),!a)return a;if(i.appendChild(a),a&&o){let e;for(e in o)try{a[e]=o[e]}catch(e){}o.className&&l(a,o.className)}return a},c=function(i,l,s){let c,d,u=r(i);if(!(u.length<=0)&&(s||(s=0),!(s>=u.length)&&u[s]))return c=u.get(s),d=new String(c.tagName).toLowerCase(),(l||""===l)&&function(i,r){t(i)||e(Number,"number",i)?a(d)||a(r)||o(r)?r.value=i:r.innerHTML=i:r&&n(i)&&r.appendChild(i)}(l,c),a(d)||a(c)||o(c)?c.value:t(c.innerHTML)?c.innerHTML:void 0};var d,u;u=(d=window.navigator).appVersion;const h={capabilitiesDetected:!1,hasJscript:!1,hasActiveX:!1,isDOMCapable:!1,isAJAXCapable:!1,hasCookiesEnabled:d.cookieEnabled,name:d.appName,uaName:d.appName,OS:d.platform,uaOS:d.platform,userAgent:d.userAgent,appVersion:parseFloat(u,10),uaAppVersion:parseFloat(u,10),version:parseFloat(u,10),uaOSVersion:"",onLoadEventStack:[],onDOMReadyEventStack:[],touchEnabled:!1,includeStack:[],scriptLoadStack:[],scriptLocation:""};let f,g,b,m;window.attachEvent&&!window.addEventListener?f=function(e,t,n,o){if(!e.attachEvent("on"+t,n))throw"Event "+t+" could not be added!"}:window.addEventListener&&(f=function(e,t,n,o){const a=o||!1;e.addEventListener(t,n,a)}),window.detachEvent&&!window.removeEventListener?g=function(e,t,n,o){if(!e.detachEvent("on"+t,n))throw"Event "+t+" could not be removed!"}:window.removeEventListener&&(g=function(e,t,n,o){e.removeEventListener(t,n,o)});const p=function(e){return window.event?window.event:e},w=function(e){const t=p(e);let n;return t.srcElement?n=t.srcElement:t.target&&(n=t.target),n},v=function(e){const t=p(e);let n=0;return t.pageX?n=t.pageX:t.clientX&&(n=t.clientX),n},y=function(e){const t=p(e);let n=0;return t.pageY?n=t.pageY:t.clientY&&(n=t.clientY),n};document.createEvent&&(b=function(e,t,n){let o=document.createEvent("Event");if(o)return n||(n={}),n.canBubble||(n.canBubble=!0),n.cancellable||(n.cancellable=!0),o.initEvent("Event",n.canBubble,n.cancellable),o},m=function(e){document.dispatchEvent(e)});function T(){let e=this,t=function(t,n){let o,a,i=e;return o=p(t),a=w(o),i.moving&&i.dragableCoverMask.id===a.id&&(i.posX=v(),i.posY=y(),i[n].style.left=i.posX-i.offsetX+"px",i[n].style.top=i.posY-i.offsetY+"px"),i},n=function(){let e;window.getSelection?(e=window.getSelection(),e&&e.empty?e.empty():e&&e.removeAllRanges&&e.removeAllRanges()):document.selection&&document.selection.clear?document.selection.clear():document.selection&&document.selection.empty&&document.selection.empty()};const o=function(t,n,o){const a=r("#"+n).get(0),i=r("#"+(o||n)).get(0);a&&i&&(t?(e.dragableObjects[i.id]=a,f(i,"mousedown",e.mousedown,!1)):(e.dragableObjects[i.id]=null,g(i,"mousedown",e.mousedown,!1)))};return e.dragableObjects=[],e.initialize=function(){const t=e;t.isInitialized||(t.dragableCoverMask=r("#-dragndrop-enabled-x").get(0),t.dragableCoverMask||(t.dragableCoverMask=s("div",document.body),t.dragableCoverMask.id="-dragndrop-enabled-x"),t.dragableCoverMask.style.display="none",f(document,"mousemove",t.mousemove,!1),f(document,"mouseup",t.mouseup,!1),t.isInitialized=!0)},e.findDragableParent=function(t){const n=e;if(t&&t.nodeName&&"body"!==t.nodeName.toLowerCase())return n.dragableObjects[t.id]?t:n.findDragableParent(t.parentNode)},e.mousemove=function(e){return t(e,"dragableCoverMask"),n(),!1},e.mouseup=function(e){const o=t(e,"currentDragObject");o.dragableCoverMask.style.display="none",o.currentDragObject=null,o.moving=!1,n()},e.mousedown=function(t){const n=e,o=p(t);let a=w(o);if(a=n.findDragableParent(a),!n.dragableObjects[a.id])return n.moving=!1,!1;n.currentDragObject=n.dragableObjects[a.id],document.body.appendChild(n.currentDragObject),n.posX=v(),n.posY=y(),n.offsetX=n.posX-n.currentDragObject.offsetLeft,n.offsetY=n.posY-n.currentDragObject.offsetTop;let i=n.dragableCoverMask;return i.style.position="absolute",i.style.display="block",i.style.border="2px solid black",i.style.left=n.currentDragObject.offsetLeft+"px",i.style.top=n.currentDragObject.offsetTop+"px",i.style.width=n.currentDragObject.offsetWidth+"px",i.style.height=n.currentDragObject.offsetHeight+"px",i.style.zIndex=1e5,n.moving=!0,!1},e.setDragable=function(e,t){o(!0,e,t)},e.setNONDragable=function(e,t){o(!1,e,t)},e}function W(e,t,n,o,a,i){var l,c;const d=r("#"+i).get(0);d?(this.mainWindow=d,this.titleBar=r(".WebWindowTitle",this.mainWindow).get(0),this.titleBar.id="WebWindowTitle"+i,this.windowArea=r(".WebWindowArea",this.mainWindow).get(0),this.windowArea.id="WebWindowArea"+i,this.footerArea=r(".WebWindowFooter",this.mainWindow).get(0),this.footerArea.id="WebWindowFooter"+i):(this.mainWindow=s("div",document.body,{className:"WebWindowMain",id:i}),this.mainWindow.style.left=t+"px",this.mainWindow.style.top=n+"px",this.mainWindow.style.width=o+"px",this.mainWindow.style.height=a+"px",this.titleBar=s("div",this.mainWindow,{className:"WebWindowTitle",id:"WebWindowTitle"+i}),this.windowArea=s("div",this.mainWindow,{className:"WebWindowArea",id:"WebWindowArea"+i}),this.footerArea=s("div",this.mainWindow,{className:"WebWindowFooter",id:"WebWindowFooter"+i})),s("span",this.titleBar,{className:"WebWindowTitleText"}).innerHTML=e;let u={className:"WebWindowButtonBox"};var h=s("span",this.titleBar,u);u={name:"WW"+i,onsubmit:"return false;"};var f=s("form",h,u);this.maximize=function(){return!1},this.minimize=function(){return!1},this.destroy=function(){return!1},(l=function(e,t,n,o,a){let i,r,l;for(l=s("button",e,{className:"WebWindowButton",name:n,id:n+t}),l.innerHTML=o,l.onclick=a,r=e.innerHTML,r=r.toLowerCase(),i=new RegExp("button class");r.match(i);)r=r.replace(i,'button type="button" class')})(f,i,"rollup","-",this.minimize),l(f,i,"rolldown","o",this.maximize),l(f,i,"destroy","X",this.destroy),this.windowArea.style.width=o+"px",this.titleBar.style.width=o+"px",this.footerArea.style.width=o+"px",c=a-this.titleBar.offsetHeight-this.footerArea.offsetHeight,this.windowArea.style.height=c+"px",this.dragndrop=new T}function k(e){return Math.pow(e,2)}f(window,"load",(function(){let e,t,n=h.onLoadEventStack;e=n.length;for(let o=0;o<e;o+=1)t=n[o],t&&"function"===(typeof t).toLowerCase()&&t()}),!1),W.prototype.popToFront=function(e){var t;t=p(e),function(e,t,n){let o,a,i,l;if(a=r(e),!(a.length<=0)&&(o=a.get(0),n&&n<a.length&&(o=a.get(n)),o))i=function(e,t){let n;e?(n=e.parentNode,n&&(n.nodeName.toLowerCase()!==t?i(n,t):l=n)):l=null},i(o,t)}(w(t),"div.WebWindowMain")},W.prototype.enableDrag=function(){var e=this.popToFront;this.dragndrop.initialize(),this.dragndrop.setDragable(this.mainWindow.id,this.titleBar.id),f(this.mainWindow,"mousedown",e,!1)},W.prototype.disableDrag=function(){var e=this.popToFront;this.dragndrop.initialize(),this.dragndrop.setNONDragable(this.mainWindow.id,this.titleBar.id),g(this.mainWindow,"mousedown",e,!1)},W.prototype.setTitle=function(e){var t=this.titleBar.getElementsByTagName("span");t&&t.length>0&&(t[0].innerHTML=e)},W.prototype.setContent=function(e){c(this.windowArea,e)};function C(e){return e*Math.PI/180}function x(e,t,n,o){var a,i={canvas:null,ctx:null,width:0,height:0};return i.canvas=s("canvas",t,{id:e}),i.canvas?(n&&(i.canvas.width=n),o&&(i.canvas.height=o),i.width=i.canvas.width,i.height=i.canvas.height,null!=i.canvas.getContext&&(i.ctx=i.canvas.getContext("2d"),function(e){function t(e,t){return Math.sqrt(k(e)-k(t))}e.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},e.line=function(e,t,n,o,a){var i,r,l,s=0,c=0;i=this.ctx,a&&(r=a.color,l=a.rotateAngle),i.save(),i.beginPath(),l&&(s=e+Math.abs(e-n)/2,c=t+Math.abs(t-o)/2,i.translate(s,c),i.rotate(C(l))),i.moveTo(e-s,t-c),i.lineTo(n-s,o-c),i.fillStyle=r||"black",i.fill(),i.strokeStyle=r||"black",i.stroke(),i.restore()},e.circle=function(e,t,n,o){var a,i,r,l;i=this.ctx,o&&(r=o.color,l=o.fillStrokeClear),i.beginPath(),i.moveTo(e+n,t),i.arc(e,t,n,0,2*Math.PI,!0),i[(a=l||"stroke")+"Style"]=r||"black",i[a]()},e.halfCircle=function(e,t,n,o){var a,i,r,l,s,c,d=0,u=0;i=this.ctx,o&&(r=o.color,l=o.rotateAngle,c=o.openTop,s=o.fillStrokeClear),i.save(),i.beginPath(),l&&(d=e,u=t,i.translate(d,u),i.rotate(C(l))),i.moveTo(e-n-d,t-u),i.arc(e-d,t-u,n,Math.PI,2*Math.PI,!0),c||i.lineTo(e-n-d,t-u),i.closePath(),i[(a=s||"stroke")+"Style"]=r||"black",i[a](),i.restore()},e.oval=function(e,t,n,o,a){var i,r,l,s,c,d=0,u=0,h=.5522848,f=e-n/2,g=t-o/2,b=n/2*h,m=o/2*h,p=f+n,w=g+o,v=f+n/2,y=g+o/2;(r=this.ctx).save(),a&&(l=a.color,s=a.fillStrokeClear,c=a.rotateAngle),r.beginPath(),c&&(d=v,u=y,r.translate(d,u),r.rotate(C(c))),r.moveTo(f-d,y-u),r.bezierCurveTo(f-d,y-m-u,v-b-d,g-u,v-d,g-u),r.bezierCurveTo(v+b-d,g-u,p-d,y-m-u,p-d,y-u),r.bezierCurveTo(p-d,y+m-u,v+b-d,w-u,v-d,w-u),r.bezierCurveTo(v-b-d,w-u,f-d,y+m-u,f-d,y-u),r.restore(),r[(i=s||"stroke")+"Style"]=l||"black",r[i]()},e.rectangle=function(e,t,n,o,a){var i,r,l,s,c,d=0,u=0;r=this.ctx,a&&(l=a.color,s=a.rotateAngle,c=a.fillStrokeClear),r.save(),r.beginPath(),s&&(d=Math.round(e+n/2),u=Math.round(t+o/2),r.translate(d,u),r.rotate(C(s))),r[(i=c||"stroke")+"Style"]=l||"black",r[i+"Rect"](e-d,t-u,n,o),r[i](),r.restore()},e.square=function(e,t,n,o){this.rectangle(e,t,n,n,o)},e.triangle=function(e,t,n,o,a,i,r){var l,s,c,d,u,h=0,f=0;l=this.ctx,r&&(c=r.color,d=r.rotateAngle,u=r.fillStrokeClear),l.save(),l.beginPath(),d&&(h=(e+n+a)/3,f=(t+o+i)/3,l.translate(h,f),l.rotate(C(d))),s=u||"stroke",l.moveTo(e-h,t-f),l.lineTo(n-h,o-f),l.lineTo(a-h,i-f),l.lineTo(e-h,t-f),l.closePath(),l[s+"Style"]=c||"black",l[s](),l.restore()},e.equilateralTriangle=function(e,n,o,a){var i,r,l;a&&(l=a.orientation),i=t(o,r=o/2),"down"===l?this.triangle(e,n,e+o,n,e+r,n+i,a):this.triangle(e,n,e+o,n,e+r,n-i,a)},e.hexagon=function(e,n,o,a){var i,r,l,s,c,d,u,h=0,f=0;i=this.ctx,a&&(d=a.color,u=a.rotateAngle,c=a.fillStrokeClear),s=c||"stroke",r=t(o,l=o/2),i.save(),i.beginPath(),u&&(h=e,f=n,i.translate(h,f),i.rotate(C(u))),i.moveTo(e+l-o-h,n-r-f),i.lineTo(e+l-h,n-r-f),i.lineTo(e+o-h,n-f),i.lineTo(e+l-h,n+r-f),i.lineTo(e+l-o-h,n+r-f),i.lineTo(e-o-h,n-f),i.lineTo(e-o+l-h,n-r-f),i.closePath(),i[s+"Style"]=d||"black",i[s](),i.restore()},e.octagon=function(e,t,n,o){var a,i,r,l,s,c,d,u=0,h=0;o&&(c=o.color,d=o.rotateAngle,s=o.fillStrokeClear),l=s||"stroke",r=n/2,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),(a=this.ctx).save(),d&&(u=e,h=t,a.translate(u,h),a.rotate(C(d))),a.beginPath(),a.moveTo(e-r-u,t-i-h),a.lineTo(e+r-u,t-i-h),a.lineTo(e+i-u,t-r-h),a.lineTo(e+i-u,t+r-h),a.lineTo(e+r-u,t+i-h),a.lineTo(e-r-u,t+i-h),a.lineTo(e-i-u,t+r-h),a.lineTo(e-i-u,t-r-h),a.lineTo(e-r-u,t-i-h),a.closePath(),a[l+"Style"]=c||"black",a[l](),a.restore()},e.setBackgroundColor=function(e){this.rectangle(0,0,this.width,this.height,{color:e||"white",fillStrokeClear:"fill"})}}(i),a=i),a):null}var A;A=function(){const e=document.getElementById("main-window"),t=window.getComputedStyle(e),n=(new W("Canvas Test",t.offsetLeft,t.offsetTop,t.offsetWidth,t.offsetHeight,"main-window"),x("canvas-test","canvas-container",800,500));if(n&&n.canvas&&n.ctx)n.circle(50,50,75,{color:"orange"}),n.halfCircle(200,100,50,{color:"blue"}),n.hexagon(100,100,75,{color:"red"}),n.octagon(100,100,75,{color:"purple"}),n.square(100,200,75,{color:"green"}),n.equilateralTriangle(500,150,75,{color:"blue"}),n.equilateralTriangle(500,150,75,{color:"blue",rotateAngle:180}),n.equilateralTriangle(500,250,75,{color:"blue"}),n.equilateralTriangle(500,250,75,{color:"blue",rotateAngle:72}),n.equilateralTriangle(500,250,75,{color:"blue",rotateAngle:144}),n.equilateralTriangle(500,250,75,{color:"blue",rotateAngle:216}),n.equilateralTriangle(500,250,75,{color:"blue",rotateAngle:288}),n.equilateralTriangle(250,250,75,{color:"blue"}),n.equilateralTriangle(250,275,75,{color:"black",orientation:"down",fillStrokeClear:"fill"}),n.triangle(325,300,355,425,400,250,{color:"black"}),n.triangle(425,300,455,425,500,250,{color:"black",rotateAngle:45,fillStrokeClear:"fill"}),n.circle(100,230,75,{color:"blue"});else{const e=s("div","container");e&&(e.innerHTML="I guess your browser does not support the canvas object!")}},h.onLoadEventStack.push(A)})();
//# sourceMappingURL=canvasTest.js.source.map