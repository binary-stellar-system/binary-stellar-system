(()=>{"use strict";function t(){let t=0;for(let i=0;i<arguments.length;i+=1)t+=+arguments[i];return t}function i(t,i){return+t-+i}function e(){let t=1;for(let i=0;i<arguments.length;i+=1){t=+t*+arguments[i]}return t}function s(t,i){return+t/+i}function n(t,i,s){const n=c(s),o=e(t,Math.cos(n)),r=e(i,Math.sin(n));return{x:Math.round(o),y:Math.round(r)}}function o(t,i){const e=[];for(let s=0;s<=360;s++){const o=n(t,i,s);e.push(o)}return e}function r(t,i){const s=c(i),n=e(t,Math.cos(s)),o=e(t,Math.sin(s));return{x:Math.round(n),y:Math.round(o)}}function a(t){const i=[];for(let e=0;e<=360;e++){const s=r(t,e);i.push(s)}return i}function d(t,i){return{x:Math.floor(s(t,2)),y:Math.floor(s(i,2))}}function h(t,i){const e=d(t,i),n=Math.ceil(s(e.x,2)),o=Math.ceil(s(e.y,2));return n<o?n:o}function c(t){return t*Math.PI/180}class l{constructor(e={}){this.color=e.color||"red",this.radius=e.radius||5,this.hiddenRadius=t(this.radius,1),this.direction=e.direction&&"clockwise"===e.direction?t:i,this.angle=e.startAngle||0,this.speed=e.speed||1}setupPoints(t=30,i){this.points=t!==i&&i?o(t,i):a(t)}increment(){this.angle=this.direction(this.angle,this.speed),this.angle<0?this.angle=360:this.angle>360&&(this.angle=0)}getCurrentPosition(t,i){return{x:this.direction(t.x,this.points[this.angle].x),y:this.direction(t.y,this.points[this.angle].y),radius:i?this.radius:this.hiddenRadius,color:i?this.color:"black"}}getHiddenPosition(t){return this.getCurrentPosition(t,!1)}getVisablePosition(t){return this.getCurrentPosition(t,!0)}}class u extends l{constructor(t={}){super(t),t.xRadius&&this.setupPoints(t.xRadius,t.yRadius),t.isFixedCenter&&t.centerPoints&&(this.centerPts=t.centerPoints)}getInitialPosition(t){const i=this.centerPts?this.centerPts:t;return this.getVisablePosition(i)}getNextPosition(t){const i=this.centerPts?this.centerPts:t;return this.hidden=this.getHiddenPosition(i),this.increment(),this.visable=this.getVisablePosition(i),{hidden:this.hidden,visable:this.visable}}getPoint(){return{hidden:{x:this.hidden.x,y:this.hidden.y},visable:{x:this.visable.x,y:this.visable.y}}}}class g extends l{constructor(t={}){super(t),t.xRadius&&this.setupPoints(t.xRadius,t.yRadius),t.parentStar&&(this.parentStar=t.parentStar)}getNextPosition(t){const i=this.parentStar?this.parentStar.getPoint():t,e=this.getHiddenPosition(i.hidden);this.increment();return{hidden:e,visable:this.getVisablePosition(i.visable)}}}let P,x;onmessage=i=>{if(i&&i.data&&i.data.setWidthHeight){const e=i.data.setWidthHeight[0],n=i.data.setWidthHeight[1];P=d(e,n);const o=h(e,n),r=Math.ceil(s(o,1.35)),a=function(t,i,e){return[new u({color:"#FDB813",radius:20,direction:"counterClockwise",startAngle:180,xRadius:i,yRadius:e,isFixedCenter:!0,centerPoints:t}),new u({color:"#FDB813",radius:14,direction:"counterClockwise",startAngle:0,xRadius:i,yRadius:e,isFixedCenter:!0,centerPoints:t})]}(P,r,r),c=a[0],l=a[1],p=[c.getInitialPosition(),l.getInitialPosition()],b=Math.floor(s(r,1.65)),f=new g({color:"#17e3ea",radius:3,direction:"counterClockwise",startAngle:90,speed:5,parentStar:c,xRadius:b}),y=t(b,17),M=t(y,8),R=new g({color:"#17e3ea",radius:7,direction:"counterClockwise",startAngle:180,speed:3,parentStar:c,xRadius:y,yRadius:M}),w=t(r,25),v=t(w,15),C=new g({color:"#17e3ea",radius:5,direction:"counterClockwise",startAngle:270,speed:1,xRadius:w,yRadius:v}),k=[f.getVisablePosition(p[0]),R.getVisablePosition(p[0]),C.getVisablePosition(p[0])];postMessage({stars:{white:p},planets:{shownPlanet:k}}),x=setInterval((()=>{const t=c.getNextPosition(),i=l.getNextPosition(),e=[t.hidden,i.hidden],s=f.getNextPosition(),n=R.getNextPosition(),o=[s.hidden,n.hidden,C.getHiddenPosition(e[0])];C.increment();const r=[t.visable,i.visable],a=[s.visable,n.visable,C.getVisablePosition(r[0])];postMessage({stars:{black:e,white:r},planets:{blackPlanet:o,shownPlanet:a}})}),100)}else i&&i.data&&i.data.stop&&clearInterval(x)}})();
//# sourceMappingURL=starSystem.js.source.map